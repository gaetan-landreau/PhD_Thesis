% document options
\newcommand{\myTitle}{Novel View Synthesis through 3D considerations}
\newcommand{\myName}{Ga√©tan Landreau}

% character encoding and languages
\usepackage[english,french]{babel}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\usepackage{placeins}

% math packages
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{mathtools}
\usepackage{dsfont}
\usepackage{empheq}
\usepackage{stmaryrd}
\usepackage{nicefrac}

\usepackage{adjustbox}
\usepackage{pifont}
\usepackage{multirow}

\usepackage{mathrsfs}

% thesis style
\usepackage[%
%    drafting,
%    minionpro,
%    minionprospacing,
    dottedtoc,
    floatperchapter,
    parts
]{template/classicthesis}
%\usepackage{MnSymbol}

% define page size and margins for the final print
\usepackage{geometry}
\geometry{paperwidth=21cm,paperheight=29.7cm,
bindingoffset=0.89cm, % gutter
inner=2cm, % inside margin
outer=3cm, % outside margin
vmargin=3.5cm, % top and bottom margins
marginparsep=-1cm,
marginparwidth=3cm,
}



% tables
\usepackage{tabularx}
\newcommand{\tableheadline}[1]{\multicolumn{1}{c}{\spacedlowsmallcaps{#1}}}
\usepackage{adjustbox}

% algorithms
%\usepackage[chapter]{algorithm}
\usepackage{xcolor}
\usepackage[linesnumbered,ruled,vlined,algo2e]{algorithm2e}
\usepackage {algpseudocode}
\usepackage{algorithmicx}
\usepackage{algcompatible}
\newcommand\mycommfont[1]{\footnotesize\ttfamily\textcolor{blue}{#1}}
\SetCommentSty{mycommfont}

% notation
\usepackage{template/notation}

% fixes for marginpar and latex
\usepackage{mparhack}

% indexing
\usepackage{makeidx}
\makeindex

% .gif animation 
\usepackage{animate}
\usepackage{nicefrac}


% graphics, figures, captions
%\usepackage{graphicx}
\usepackage{graphbox}
\usepackage{tikz}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{standalone}
\captionsetup[sub]{font=normalsize}

% table
\usepackage{template/slashbox}
\usepackage{rotating}
\usepackage{multirow}
\usepackage{array}
\usepackage{booktabs}

\renewcommand{\subsectionautorefname}{Section}
\renewcommand{\sectionautorefname}{Section}
\renewcommand{\chapterautorefname}{Chapter}
\def\algorithmautorefname{Algorithm}

\addto\extrasenglish{%
  \renewcommand{\chapterautorefname}{Chapter}%
  \renewcommand{\sectionautorefname}{Section}%
  \renewcommand{\subsectionautorefname}{Section}%
  \renewcommand{\subsubsectionautorefname}{Section}%
%   \renewcommand{\equationautorefname}{Eq.}%
}
\usepackage{nameref}


% bibliography
\usepackage[style=english]{csquotes}
\usepackage[%
    style=authoryear-comp,%
    dashed=false,%
    doi=false,%
    isbn=false,%
    hyperref=auto,%
    backref,%
    backrefstyle=three,%
    uniquename=true,%
    uniquelist=false,%minyear
    maxbibnames=99,%
    maxcitenames=1
]{biblatex}



% creating colorlinks to the names of the authors AND the year:

% Citation Hyperlinks (not just years), thanks to Audrey.
\makeatletter
\renewbibmacro*{cite}{% Based on cite bib macro from authoryear-comp.cbx
     \iffieldundef{shorthand}
       {\ifthenelse{\ifnameundef{labelname}\OR\iffieldundef{labelyear}}
          {\printtext[bibhyperref]{% Include labelname in hyperlink
             \DeclareFieldAlias{bibhyperref}{default}% Prevent nested hyperlinks
             \usebibmacro{cite:label}%
             \setunit{\addspace}%
             \usebibmacro{cite:labelyear+extrayear}}%
             \usebibmacro{cite:reinit}}
          {\iffieldequals{namehash}{\cbx@lasthash}
             {\ifthenelse{\iffieldequals{labelyear}{\cbx@lastyear}\AND
                          \(\value{multicitecount}=0\OR\iffieldundef{postnote}\)}
                {\setunit{\addcomma}%
                 \usebibmacro{cite:extrayear}}
                {\setunit{\compcitedelim}%
                 \usebibmacro{cite:labelyear+extrayear}%
                 \savefield{labelyear}{\cbx@lastyear}}}
             {\printtext[bibhyperref]{% Include labelname in hyperlink
                \DeclareFieldAlias{bibhyperref}{default}% Prevent nested hyperlinks
                \printnames{labelname}%
                \setunit{\nameyeardelim}%
                \usebibmacro{cite:labelyear+extrayear}}%
                \savefield{namehash}{\cbx@lasthash}%
                \savefield{labelyear}{\cbx@lastyear}}}}
       {\usebibmacro{cite:shorthand}%
        \usebibmacro{cite:reinit}}%
     \setunit{\multicitedelim}}

\renewbibmacro*{textcite}{% Based on textcite bib macro from authoryear-comp.cbx
     \iffieldequals{namehash}{\cbx@lasthash}
       {\iffieldundef{shorthand}
          {\ifthenelse{\iffieldequals{labelyear}{\cbx@lastyear}\AND
                       \(\value{multicitecount}=0\OR\iffieldundef{postnote}\)}
             {\setunit{\addcomma}%
              \usebibmacro{cite:extrayear}}
             {\setunit{\compcitedelim}%
              \usebibmacro{cite:labelyear+extrayear}%
              \savefield{labelyear}{\cbx@lastyear}}}
          {\setunit{\compcitedelim}%
           \usebibmacro{cite:shorthand}%
           \global\undef\cbx@lastyear}}
       {\ifnameundef{labelname}
          {\printtext[bibhyperref]{% Include labelname in hyperlink
             \DeclareFieldAlias{bibhyperref}{default}% Prevent nested hyperlinks
             \iffieldundef{shorthand}
               {\usebibmacro{cite:label}%
                \setunit{%
                  \global\booltrue{cbx:parens}%
                  \addspace\bibopenparen}%
                \ifnumequal{\value{citecount}}{1}
                  {\usebibmacro{prenote}}
                  {}%
                \usebibmacro{cite:labelyear+extrayear}}
               {\usebibmacro{cite:shorthand}}%
             \ifthenelse{\iffieldundef{postnote}\AND
                         \(\value{multicitetotal}=0\AND\value{citetotal}=1\)}
               {\bibcloseparen% Include closing parenthesis in hyperlink
                \global\boolfalse{cbx:parens}}
               {}}}
          {\printtext[bibhyperref]{% Include labelname in hyperlink
             \DeclareFieldAlias{bibhyperref}{default}% Prevent nested hyperlinks
             \printnames{labelname}%
             \setunit{%
               \global\booltrue{cbx:parens}%
               \addspace\bibopenparen}%
             \ifnumequal{\value{citecount}}{1}
               {\usebibmacro{prenote}}
               {}%
             \iffieldundef{shorthand}
               {\iffieldundef{labelyear}
                  {\usebibmacro{cite:label}}
                  {\usebibmacro{cite:labelyear+extrayear}}%
                \savefield{labelyear}{\cbx@lastyear}}
               {\usebibmacro{cite:shorthand}%
                \global\undef\cbx@lastyear}%
             \ifthenelse{\iffieldundef{postnote}\AND
                         \(\value{multicitetotal}=0\AND\value{citetotal}=1\)}
               {\bibcloseparen% Include closing parenthesis in hyperlink
                \global\boolfalse{cbx:parens}}
               {}}%
             \savefield{namehash}{\cbx@lasthash}}}%
     \setunit{%
       \ifbool{cbx:parens}
         {\bibcloseparen\global\boolfalse{cbx:parens}}
         {}%
       \multicitedelim}}

\makeatother












\newcommand{\citet}{\textcite}
\newcommand{\citep}{\parencite}

\makeatletter
\DeclareCiteCommand{\fullcite}
  {\usebibmacro{prenote}}
  {\usedriver
     {\defcounter{minnames}{6}%
      \defcounter{maxnames}{6}}
     {\thefield{entrytype}}}
  {\multicitedelim}
  {\usebibmacro{postnote}
}
\DeclareCiteCommand{\fullcite}
  {\defcounter{maxnames}{\blx@maxbibnames}%
    \usebibmacro{prenote}}
  {\usedriver
     {\DeclareNameAlias{sortname}{default}}
     {\thefield{entrytype}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}
\DeclareCiteCommand{\footfullcite}[\mkbibfootnote]
  {\defcounter{maxnames}{\blx@maxbibnames}%
    \usebibmacro{prenote}}
  {\usedriver
     {\DeclareNameAlias{sortname}{default}}
     {\thefield{entrytype}}}
  {\multicitedelim}
  {\usebibmacro{postnote}}
\let\citep\parencite
\makeatother




%\renewbibmacro{in:}{%
%  \ifentrytype{article}{}{%
%  \printtext{\bibstring{in}\intitlepunct}}}

% theorems, definitions
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\providecommand*{\lemmaautorefname}{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\theoremstyle{remark}
\newtheorem*{remark}{Remark}

% acronyms
\usepackage[printonlyused,smaller]{template/acronym} % nice macros for handling all acronyms in the thesis
% \renewcommand{\bflabel}[1]{{#1}\hfill} % fix the list of acronyms



% lists
\usepackage[inline]{enumitem}
\setlist[itemize]{label=\textbullet, itemsep=8.0pt, topsep=8.0pt}


% dummy counter for correct TOC etc
\newcounter{dummy}

% for cover page
\usepackage{pdfpages}

\usepackage[english,nohints]{minitoc}
%\setcounter{\secttocdepth}{3}
% \setcounter{minitocdepth}{3}

% paragraph title
% \titleformat{\paragraph}[runin]{\bfseries\scshape}{\theparagraph}{1em}{}

% \setkomafont{section}{\LARGE}
% \setkomafont{subsection}{\Large}
% \setkomafont{subsubsection}{\large}
\usepackage[T1]{fontenc}

\newenvironment{chapabstract}
{
    \begin{center}%
    \vspace*{0.5cm}
      \textbf{\textit{ \chaptertitlename~abstract }} \vspace{-.5em}\vspace{0pt}
    \end{center}
    \list{}{%
    \setlength{\leftmargin}{10mm}% <---------- CHANGE HERE
    \setlength{\rightmargin}{\leftmargin}%
  }%
  \item\relax\itshape
}
{\par}
\makeatother

\usepackage{lettrine}

\usepackage{etoolbox}
\newcommand{\killdeactivateaddvspace}{\let\deactivateaddvspace\relax}
\AtEndPreamble{\addtocontents{lof}{\protect\killdeactivateaddvspace} \addtocontents{lot}{\protect\killdeactivateaddvspace}}

\makeatletter
%\newcommand{\chapterwithfigures}[1]{\addxcontentsline{lof}{chapteratlist}[{\large\chaptertitlename~\thechapter: #1}]{\Large\scr@ds@tocentry}}%
\newcommand{\chapterwithfigures}[1]{\addxcontentsline{lof}{chapteratlist}[{}]{\large\textsc{\chaptertitlename}~\thechapter: #1}}%
\makeatother

\makeatletter
%\newcommand{\chapterwithtables}[1]{\addxcontentsline{lot}{chapteratlist}[{\large\chaptertitlename~\thechapter: #1}]{\Large\scr@ds@tocentry}}%
\newcommand{\chapterwithtables}[1]{\addxcontentsline{lot}{chapteratlist}[{}]{\large\textsc{\chaptertitlename}~\thechapter: #1}}%
\makeatother

\usepackage{algorithm}
\usepackage{algpseudocode}

\usepackage[para,online,flushleft]{threeparttable}

\floatstyle{plain}
\newfloat{myalgo}{tbhp}{mya}
\newenvironment{limitedalgorithm}[2][tbh]%
{\begin{myalgo}[#1]
\centering
\begin{minipage}{#2}
\begin{algorithm}[H]}%
{\end{algorithm}
\end{minipage}
\end{myalgo}}

\definecolor{Gray}{gray}{0.9}

\newcommand\invisiblesection[1]{%
  \refstepcounter{section}%
  \addcontentsline{toc}{section}{\protect\numberline{\thesection}#1}%
  \sectionmark{#1}%
}

\DeclareMathOperator*{\Pool}{Pool}

\usepackage{lipsum}
\usepackage{colortbl}
\usepackage{footmisc}
\usepackage{setspace}







\newenvironment{nscenter}
 {\parskip=0pt\par\nopagebreak\centering}
 {\par\noindent\ignorespacesafterend}

 \definecolor{purplelinks}{HTML}{b94ce0}
 \definecolor{bluelinks}{HTML}{1669DC}
 \definecolor{redlinks}{HTML}{FF5000}
 \definecolor{greenlinks}{HTML}{00A295}

\definecolor{yellowdark}{HTML}{BC8C00}
\definecolor{bluedark}{HTML}{2F528F}
\definecolor{greendark}{HTML}{507E32}
\definecolor{bluefig}{HTML}{5B9BD5}
\definecolor{LightGrey}{RGB}{211,211,211}

 % hyperref
%\usepackage{bookmark,hyperref}
\PassOptionsToPackage{hyphens}{url}
\usepackage{hyperref}
\hypersetup{%
    %draft,	% = no hyperlinking at all (useful in b/w printouts)
    colorlinks=true, linktocpage=true, pdfstartpage=1, pdfstartview=FitV,%
    % uncomment the following line if you want to have black links (e.g., for printing)
    %colorlinks=false, linktocpage=false, pdfborder={0 0 0}, pdfstartpage=1, pdfstartview=FitV,%
    breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,%
    plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,%
    bookmarksdepth=2,%
    hypertexnames=true, pdfhighlight=/O,%hyperfootnotes=true,%nesting=true,%frenchlinks,%
    urlcolor=purplelinks, linkcolor=bluelinks, citecolor=purplelinks, %pagecolor=RoyalBlue,%
    %urlcolor=Black, linkcolor=Black, citecolor=Black, %pagecolor=Black,%
    pdftitle={\myTitle},%
    pdfauthor={\myName},%
    pdfsubject={},%
    pdfkeywords={},%
    pdfpagelayout=TwoPageRight,%
}



